<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, width=device-width">
    <title>Docker Compose</title>

    <!-- CSS -->
    <link rel="stylesheet" href="../css/styles.css">

    <!-- Google Fonts: Montserrat and Ubuntu. Currently not used.-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Sacramento&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
        rel="stylesheet">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">


    <!-- Font awesome -->
    <script src="https://kit.fontawesome.com/181c7bc6bd.js" crossorigin="anonymous"></script>


    <!-- Javascript -->
    <script src="../index.js" charset="utf-8"></script>

</head>



<body>


    <section id="nav">
        <!-- <div class="container-fluid"> -->
        <nav class="navbar navbar-expand-lg navbar-dark">

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- AddToAny BEGIN -->
            <div class="a2a_kit a2a_kit_size_32 a2a_default_style" style="float: left; margin-left: 20px;">
                <!-- <a class="a2a_dd" href="https://www.addtoany.com/share"></a> -->
                <a class="a2a_button_linkedin"></a>
                <a class="a2a_button_facebook"></a>
                <a class="a2a_button_whatsapp"></a>
                <a class="a2a_button_twitter"></a>
                <a class="a2a_button_email"></a>
                <a class="a2a_button_google_gmail"></a>
            </div>
            <script async src="https://static.addtoany.com/menu/page.js"></script>
            <!-- AddToAny END -->

            <!-- Links at top right will collapse -->
            <div class="collapse navbar-collapse" id="navbarSupportedContent">

                <ul class="navbar-nav ms-auto">

                    <li class="nav-item">
                        <a class="nav-link" href="../index.html">Home</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="../index.html#projects">Projects</a>
                    </li>

                    <li class="nav-item">
                        <a href="../index.html#blog" class="nav-link">Blog</a>
                    </li>

                    <li class="nav-item">
                        <a href="../index.html#contact" class="nav-link">Contact</a>
                    </li>

                </ul>
            </div>

        </nav>

        <!-- </div> -->
    </section>

    <section>
        <div class="container-fluid">
            <div class="row">


                <div class="col-lg-12">

                    <h1 style="text-align:center" class="intro-padding">Managing multiple services with Docker Compose
                    </h1>

                </div>
            </div>
        </div>
        <div class="container">

            <div class="row">
                <div class="col-lg-12">
                    <figure style="text-align: center;">
                        <!-- <img src="../Images/imageconverter/tux1.webp" alt="tux" width="700" height="auto"> -->
                        <img src="../Images/docker/docker.webp" alt="tux" width="700" height="auto">
                    </figure>
                </div>
            </div>
        </div></br>
        <p>23 Dec '24</p>
        <p>
            Welcome back to another article on Docker. Although Kubernetes (K8s) does not directly support Docker as a
            container runtime anymore, Docker images remain fully compatible with K8s as they adhere to the Open
            Container Initiative (OCI) standard. The 'Docker' brand is synonymous with containers, and learning it will
            allow us to understand core container concepts. This article is on Docker Compose, which is a Docker tool
            that allows multi-container applications to run together.
        </p>
        <p>In its simplest form, Docker can run a single container. However, an application which runs on a single
            container would be rather monolithic in its architecture. The microservices architecure breaks a monolithic
            application into smaller applications, each called a microservice, which work together to form the complete
            functioning application.
        </p>
        <p>
            This article shows how a multi-container application can be set up with Docker Compose. Docker Compose
            simplifies the
            control of an application stack, making it easy to manage services, networks, and volumes in a single,
            comprehensible YAML configuration file (https://docs.docker.com/compose/). The application is launched with
            two containers, which are WordPress and MySQL. The WordPress and MySQL is a classic example of a
            multi-container application managed by Docker Compose. WordPress (a content management system) requires a
            database to store user-generated content such as posts, comments, and settings. MySQL, a relational database
            management system, is commonly used as the backend database for WordPress. Both containers run from images
            obtained from Docker Hub.
        </p>

        <div class="container">

            <div class="row">
                <div class="col-lg-12">
                    <figure style="text-align: center;">
                        <img src="../Images/docker-compose/docker-compose.webp" alt="exit" width="500" height="auto">
                        <figcaption>Docker Compose file</figcaption>
                    </figure>
                </div>
            </div>
        </div>
        <p>The image above shows the Docker Compose file (docker-compose.yaml) for the application. It consists of two
            services, which are WordPress and the database (represented by db).</p><br><br>

        <div class="container">

            <div class="row">
                <div class="col-lg-12">
                    <figure style="text-align: center;">
                        <img src="../Images/docker-compose/wordpress.webp" alt="exit" width="500" height="auto">
                        <figcaption>WordPress</figcaption>
                    </figure>
                </div>
            </div>
        </div>

        <p>The WordPress app maps port 8080 on the
            localhost to port 80 of the container. The environment keys provide information on database configurations
            while the volume key informs where the WordPress data will be stored. </p>
        <p>The volumes key creates a persistent volume named wordpress_data on the host machine, which is mapped to
            /var/www/html inside the container. The volume is used to store WordPress files such as themes, plugins and
            uploads. The 'depends_on' key Indicates that the WordPress service depends on the db service, ensuring that
            the database container starts before the WordPress container.</p><br><br>

        <div class="container">

            <div class="row">
                <div class="col-lg-12">
                    <figure style="text-align: center;">
                        <img src="../Images/docker-compose/database.webp" alt="exit" width="500" height="auto">
                        <figcaption>Database</figcaption>
                    </figure>
                </div>
            </div>
        </div>
        <p>
            The db service provides configuration values for the MySQL database, such as the username, password, and
            database name. The environment variables in the wordpress service must match these database credentials to
            enable WordPress to connect successfully. The db_data volume maps the /var/lib/mysql directory inside the
            MySQL container (where MySQL stores its data) to a persistent storage location managed by Docker on the host
            machine, ensuring the database data persists across container restarts or recreation.
        </p><br><br>
        <div class="container">

            <div class="row">
                <div class="col-lg-12">
                    <figure style="text-align: center;">
                        <img src="../Images/docker-compose/volume.webp" alt="exit" width="300" height="auto">
                        <figcaption>Volumes</figcaption>
                    </figure>
                </div>
            </div>
        </div>
        <p>The volumes key in the docker-compose.yml file informs Docker about the volumes used by the application.
            These volumes are important for persisting data outside the containers, ensuring it remains available even
            if the containers are restarted or removed. The complete yaml file is available at <a
                href="https://github.com/nchinling/wordpress-docker-compose">article</a>https://github.com/nchinling/wordpress-docker-compose
        </p>.


        <p>Finally, run the application using the command below to see the results</p>

        <div class="container">
            <pre class="preStyle">

  docker compose up -d

</pre><br>
        </div>
        <p>That's all there is to Docker Compose. You will be able to access WordPress on port 8080. View the video
            below for the explanations and
            implementations described above.
        </p>


        <div class="container">
            <div align="center">
                <div class="video-container">
                    <iframe src="https://www.youtube.com/embed/CjpEkmuydGY" title="YouTube video player" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen></iframe>
                </div>
            </div>
        </div><br>







    </section>


    <hr>


    <section id=footer>

        <table>

            <tr>
                <td>

                    <a class="footer-style" href="../index.html"> Home</a>

                </td>
                <td>

                    <a class="footer-style" href="../index.html#projects"> Projects</a>

                </td>

                <td>

                    <a class="footer-style" href="../index.html#blog"> Blog</a>

                </td>
            </tr>

        </table><br>
    </section>

    <!-- Bootstrap - Javascript -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js"
        integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk"
        crossorigin="anonymous"></script>


</body>

</html>